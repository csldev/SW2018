{"version":3,"sources":["webpack:///./src/app.js","webpack:///./src/core/plugins/es6-promise.js","webpack:///./src/core/event.js","webpack:///./src/core/request.js","webpack:///./src/core/router.js","webpack:///./src/utils/event-names.js","webpack:///./src/utils/settings.js"],"names":["App","router","type","Object","request","event","settings","eventNames","Pages","onLaunch","t","e","exports","module","define","ES6Promise","n","B","r","G","o","process","nextTick","a","i","z","c","s","J","document","createTextNode","observe","characterData","data","u","MessageChannel","port1","onmessage","port2","postMessage","setTimeout","W","V","f","Function","require","runOnLoop","runOnContext","l","constructor","p","Z","O","_state","arguments","P","_result","E","h","g","v","TypeError","d","_","then","nt","error","y","call","m","S","j","_label","b","tt","et","w","resolve","A","_onerror","T","$","_subscribers","length","M","x","C","rt","k","Error","F","ot","promise","Y","U","q","D","K","L","global","self","Promise","prototype","toString","cast","it","N","Array","isArray","X","H","window","I","MutationObserver","WebKitMutationObserver","Q","R","Uint8ClampedArray","importScripts","Math","random","substring","_instanceConstructor","_remaining","_enumerate","_eachEntry","_settledAt","_willSettleAt","all","race","reject","_setScheduler","_setAsap","_asap","polyfill","Event","events","fn","add","console","log","forEach","element","delete","Request","TIMEOUT","response","cookie","header","key","regex","RegExp","results","exec","_fetchCookie","tmpKSessionId","_sliceHeader","getApp","sessionData","minaCookie","kSessionId","qhdi","qhssokey","qhssokeyid","qhssokeycheck","wx","setStorage","method","path","server","SERVER_ADDRESS","userAgent","MP_USER_AGENT","minaCookieString","url","APIVERS","Cookie","success","statusCode","_saveKSessionId","result","hasOwnProperty","showToast","logout","fail","_request","ROUTER_PREFIX","Router","pagePaths","webViewPath","pageName","query","undefined","routePath","startsWith","slice","indexOf","navigateTo","_jumpToWebView","encodedUrl","encodeURIComponent","EventNames","USER_INFO_UPDATE","LOGOUT","LOGIN","LOGIN_FAILED","Settings","VERSION"],"mappings":";;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEAA,IAAI;AACFC,UAAQ;AACNC,UAAMC;AADA,GADN;AAIFC,WAAS,IAAI,8DAAJ,EAJP;AAKFC,SAAO,IAAI,4DAAJ,EALL;AAMFC,YAAU,IAAI,gEAAJ,EANR;AAOFC,cAAY,IAAI,mEAAJ,EAPV;;AASFC,SAAO,CACL,mBADK,EAEL,uBAFK,CATL;;AAcFC,YAAU,oBAAY;AACpB,SAAKR,MAAL,GAAc,IAAI,6DAAJ,CAAW,KAAKO,KAAhB,EAAuB,EAAvB,CAAd;AACD;;AAhBC,CAAJ,E;;;;;;;;;;ACPA,CAAC,UAASE,CAAT,EAAWC,CAAX,EAAa;AAAC,sBAAiBC,OAAjB,8HAAiBA,OAAjB,MAA0B,eAAa,OAAOC,MAA9C,GAAqDA,OAAOD,OAAP,GAAeD,GAApE,GAAwE,cAAY,OAAOG,MAAnB,IAA2B,wBAA3B,GAAsCA,OAAOH,CAAP,CAAtC,GAAgDD,EAAEK,UAAF,GAAaJ,GAArI;AAAyI,CAAvJ,CAAwJ,IAAxJ,EAA6J,YAAU;AAAC;AAAa,WAASD,CAAT,CAAWA,CAAX,EAAa;AAAC,QAAIC,WAASD,CAAT,8HAASA,CAAT,CAAJ,CAAe,OAAO,SAAOA,CAAP,KAAW,aAAWC,CAAX,IAAc,eAAaA,CAAtC,CAAP;AAAgD,YAASA,CAAT,CAAWD,CAAX,EAAa;AAAC,WAAM,cAAY,OAAOA,CAAzB;AAA2B,YAASM,CAAT,CAAWN,CAAX,EAAa;AAACO,QAAEP,CAAF;AAAI,YAASQ,CAAT,CAAWR,CAAX,EAAa;AAACS,QAAET,CAAF;AAAI,YAASU,CAAT,GAAY;AAAC,WAAO,YAAU;AAAC,aAAOC,QAAQC,QAAR,CAAiBC,CAAjB,CAAP;AAA2B,KAA7C;AAA8C,YAASC,CAAT,GAAY;AAAC,WAAM,eAAa,OAAOC,CAApB,GAAsB,YAAU;AAACA,QAAEF,CAAF;AAAK,KAAtC,GAAuCG,GAA7C;AAAiD,YAASC,CAAT,GAAY;AAAC,QAAIjB,IAAE,CAAN;AAAA,QAAQC,IAAE,IAAIiB,CAAJ,CAAML,CAAN,CAAV;AAAA,QAAmBP,IAAEa,SAASC,cAAT,CAAwB,EAAxB,CAArB,CAAiD,OAAOnB,EAAEoB,OAAF,CAAUf,CAAV,EAAY,EAACgB,eAAc,CAAC,CAAhB,EAAZ,GAAgC,YAAU;AAAChB,QAAEiB,IAAF,GAAOvB,IAAE,EAAEA,CAAF,GAAI,CAAb;AAAe,KAAjE;AAAkE,YAASwB,CAAT,GAAY;AAAC,QAAIxB,IAAE,IAAIyB,cAAJ,EAAN,CAAyB,OAAOzB,EAAE0B,KAAF,CAAQC,SAAR,GAAkBd,CAAlB,EAAoB,YAAU;AAAC,aAAOb,EAAE4B,KAAF,CAAQC,WAAR,CAAoB,CAApB,CAAP;AAA8B,KAApE;AAAqE,YAASb,CAAT,GAAY;AAAC,QAAIhB,IAAE8B,UAAN,CAAiB,OAAO,YAAU;AAAC,aAAO9B,EAAEa,CAAF,EAAI,CAAJ,CAAP;AAAc,KAAhC;AAAiC,YAASA,CAAT,GAAY;AAAC,SAAI,IAAIb,IAAE,CAAV,EAAYA,IAAE+B,CAAd,EAAgB/B,KAAG,CAAnB,EAAqB;AAAC,UAAIC,IAAE+B,EAAEhC,CAAF,CAAN;AAAA,UAAWM,IAAE0B,EAAEhC,IAAE,CAAJ,CAAb,CAAoBC,EAAEK,CAAF,GAAK0B,EAAEhC,CAAF,IAAK,KAAK,CAAf,EAAiBgC,EAAEhC,IAAE,CAAJ,IAAO,KAAK,CAA7B;AAA+B,SAAE,CAAF;AAAI,YAASiC,CAAT,GAAY;AAAC,QAAG;AAAC,UAAIjC,IAAEkC,SAAS,aAAT,IAA0BC,OAA1B,CAAkC,OAAlC,CAAN,CAAiD,OAAOpB,IAAEf,EAAEoC,SAAF,IAAapC,EAAEqC,YAAjB,EAA8BvB,GAArC;AAAyC,KAA9F,CAA8F,OAAMb,CAAN,EAAQ;AAAC,aAAOe,GAAP;AAAW;AAAC,YAASsB,CAAT,CAAWtC,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAIK,IAAE,IAAN;AAAA,QAAWE,IAAE,IAAI,KAAK+B,WAAT,CAAqBC,CAArB,CAAb,CAAqC,KAAK,CAAL,KAAShC,EAAEiC,CAAF,CAAT,IAAeC,EAAElC,CAAF,CAAf,CAAoB,IAAIE,IAAEJ,EAAEqC,MAAR,CAAe,IAAGjC,CAAH,EAAK;AAAC,UAAII,IAAE8B,UAAUlC,IAAE,CAAZ,CAAN,CAAqBD,EAAE,YAAU;AAAC,eAAOoC,EAAEnC,CAAF,EAAIF,CAAJ,EAAMM,CAAN,EAAQR,EAAEwC,OAAV,CAAP;AAA0B,OAAvC;AAAyC,KAApE,MAAyEC,EAAEzC,CAAF,EAAIE,CAAJ,EAAMR,CAAN,EAAQC,CAAR,EAAW,OAAOO,CAAP;AAAS,YAASwC,CAAT,CAAWhD,CAAX,EAAa;AAAC,QAAIC,IAAE,IAAN,CAAW,IAAGD,KAAG,oBAAiBA,CAAjB,8HAAiBA,CAAjB,EAAH,IAAuBA,EAAEuC,WAAF,KAAgBtC,CAA1C,EAA4C,OAAOD,CAAP,CAAS,IAAIM,IAAE,IAAIL,CAAJ,CAAMuC,CAAN,CAAN,CAAe,OAAOS,EAAE3C,CAAF,EAAIN,CAAJ,GAAOM,CAAd;AAAgB,YAASkC,CAAT,GAAY,CAAE,UAASU,CAAT,GAAY;AAAC,WAAO,IAAIC,SAAJ,CAAc,0CAAd,CAAP;AAAiE,YAASC,CAAT,GAAY;AAAC,WAAO,IAAID,SAAJ,CAAc,sDAAd,CAAP;AAA6E,YAASE,CAAT,CAAWrD,CAAX,EAAa;AAAC,QAAG;AAAC,aAAOA,EAAEsD,IAAT;AAAc,KAAlB,CAAkB,OAAMrD,CAAN,EAAQ;AAAC,aAAOsD,GAAGC,KAAH,GAASvD,CAAT,EAAWsD,EAAlB;AAAqB;AAAC,YAASE,CAAT,CAAWzD,CAAX,EAAaC,CAAb,EAAeK,CAAf,EAAiBE,CAAjB,EAAmB;AAAC,QAAG;AAACR,QAAE0D,IAAF,CAAOzD,CAAP,EAASK,CAAT,EAAWE,CAAX;AAAc,KAAlB,CAAkB,OAAME,CAAN,EAAQ;AAAC,aAAOA,CAAP;AAAS;AAAC,YAASiD,CAAT,CAAW3D,CAAX,EAAaC,CAAb,EAAeK,CAAf,EAAiB;AAACG,MAAE,UAAST,CAAT,EAAW;AAAC,UAAIQ,IAAE,CAAC,CAAP;AAAA,UAASE,IAAE+C,EAAEnD,CAAF,EAAIL,CAAJ,EAAM,UAASK,CAAT,EAAW;AAACE,cAAIA,IAAE,CAAC,CAAH,EAAKP,MAAIK,CAAJ,GAAM2C,EAAEjD,CAAF,EAAIM,CAAJ,CAAN,GAAasD,EAAE5D,CAAF,EAAIM,CAAJ,CAAtB;AAA8B,OAAhD,EAAiD,UAASL,CAAT,EAAW;AAACO,cAAIA,IAAE,CAAC,CAAH,EAAKqD,EAAE7D,CAAF,EAAIC,CAAJ,CAAT;AAAiB,OAA9E,EAA+E,cAAYD,EAAE8D,MAAF,IAAU,kBAAtB,CAA/E,CAAX,CAAqI,CAACtD,CAAD,IAAIE,CAAJ,KAAQF,IAAE,CAAC,CAAH,EAAKqD,EAAE7D,CAAF,EAAIU,CAAJ,CAAb;AAAqB,KAAxK,EAAyKV,CAAzK;AAA4K,YAAS+D,CAAT,CAAW/D,CAAX,EAAaC,CAAb,EAAe;AAACA,MAAE0C,MAAF,KAAWqB,EAAX,GAAcJ,EAAE5D,CAAF,EAAIC,EAAE6C,OAAN,CAAd,GAA6B7C,EAAE0C,MAAF,KAAWsB,EAAX,GAAcJ,EAAE7D,CAAF,EAAIC,EAAE6C,OAAN,CAAd,GAA6BC,EAAE9C,CAAF,EAAI,KAAK,CAAT,EAAW,UAASA,CAAT,EAAW;AAAC,aAAOgD,EAAEjD,CAAF,EAAIC,CAAJ,CAAP;AAAc,KAArC,EAAsC,UAASA,CAAT,EAAW;AAAC,aAAO4D,EAAE7D,CAAF,EAAIC,CAAJ,CAAP;AAAc,KAAhE,CAA1D;AAA4H,YAASiE,CAAT,CAAWlE,CAAX,EAAaM,CAAb,EAAeE,CAAf,EAAiB;AAACF,MAAEiC,WAAF,KAAgBvC,EAAEuC,WAAlB,IAA+B/B,MAAI8B,CAAnC,IAAsChC,EAAEiC,WAAF,CAAc4B,OAAd,KAAwBnB,CAA9D,GAAgEe,EAAE/D,CAAF,EAAIM,CAAJ,CAAhE,GAAuEE,MAAI+C,EAAJ,IAAQM,EAAE7D,CAAF,EAAIuD,GAAGC,KAAP,GAAcD,GAAGC,KAAH,GAAS,IAA/B,IAAqC,KAAK,CAAL,KAAShD,CAAT,GAAWoD,EAAE5D,CAAF,EAAIM,CAAJ,CAAX,GAAkBL,EAAEO,CAAF,IAAKmD,EAAE3D,CAAF,EAAIM,CAAJ,EAAME,CAAN,CAAL,GAAcoD,EAAE5D,CAAF,EAAIM,CAAJ,CAA5I;AAAmJ,YAAS2C,CAAT,CAAWhD,CAAX,EAAaK,CAAb,EAAe;AAACL,UAAIK,CAAJ,GAAMuD,EAAE5D,CAAF,EAAIiD,GAAJ,CAAN,GAAelD,EAAEM,CAAF,IAAK4D,EAAEjE,CAAF,EAAIK,CAAJ,EAAM+C,EAAE/C,CAAF,CAAN,CAAL,GAAiBsD,EAAE3D,CAAF,EAAIK,CAAJ,CAAhC;AAAuC,YAAS8D,CAAT,CAAWpE,CAAX,EAAa;AAACA,MAAEqE,QAAF,IAAYrE,EAAEqE,QAAF,CAAWrE,EAAE8C,OAAb,CAAZ,EAAkCwB,EAAEtE,CAAF,CAAlC;AAAuC,YAAS4D,CAAT,CAAW5D,CAAX,EAAaC,CAAb,EAAe;AAACD,MAAE2C,MAAF,KAAW4B,CAAX,KAAevE,EAAE8C,OAAF,GAAU7C,CAAV,EAAYD,EAAE2C,MAAF,GAASqB,EAArB,EAAwB,MAAIhE,EAAEwE,YAAF,CAAeC,MAAnB,IAA2BhE,EAAE6D,CAAF,EAAItE,CAAJ,CAAlE;AAA0E,YAAS6D,CAAT,CAAW7D,CAAX,EAAaC,CAAb,EAAe;AAACD,MAAE2C,MAAF,KAAW4B,CAAX,KAAevE,EAAE2C,MAAF,GAASsB,EAAT,EAAYjE,EAAE8C,OAAF,GAAU7C,CAAtB,EAAwBQ,EAAE2D,CAAF,EAAIpE,CAAJ,CAAvC;AAA+C,YAAS+C,CAAT,CAAW/C,CAAX,EAAaC,CAAb,EAAeK,CAAf,EAAiBE,CAAjB,EAAmB;AAAC,QAAIE,IAAEV,EAAEwE,YAAR;AAAA,QAAqB1D,IAAEJ,EAAE+D,MAAzB,CAAgCzE,EAAEqE,QAAF,GAAW,IAAX,EAAgB3D,EAAEI,CAAF,IAAKb,CAArB,EAAuBS,EAAEI,IAAEkD,EAAJ,IAAQ1D,CAA/B,EAAiCI,EAAEI,IAAEmD,EAAJ,IAAQzD,CAAzC,EAA2C,MAAIM,CAAJ,IAAOd,EAAE2C,MAAT,IAAiBlC,EAAE6D,CAAF,EAAItE,CAAJ,CAA5D;AAAmE,YAASsE,CAAT,CAAWtE,CAAX,EAAa;AAAC,QAAIC,IAAED,EAAEwE,YAAR;AAAA,QAAqBlE,IAAEN,EAAE2C,MAAzB,CAAgC,IAAG,MAAI1C,EAAEwE,MAAT,EAAgB;AAAC,WAAI,IAAIjE,IAAE,KAAK,CAAX,EAAaE,IAAE,KAAK,CAApB,EAAsBI,IAAEd,EAAE8C,OAA1B,EAAkC7B,IAAE,CAAxC,EAA0CA,IAAEhB,EAAEwE,MAA9C,EAAqDxD,KAAG,CAAxD;AAA0DT,YAAEP,EAAEgB,CAAF,CAAF,EAAOP,IAAET,EAAEgB,IAAEX,CAAJ,CAAT,EAAgBE,IAAEqC,EAAEvC,CAAF,EAAIE,CAAJ,EAAME,CAAN,EAAQI,CAAR,CAAF,GAAaJ,EAAEI,CAAF,CAA7B;AAA1D,OAA4Fd,EAAEwE,YAAF,CAAeC,MAAf,GAAsB,CAAtB;AAAwB;AAAC,YAASC,CAAT,CAAW1E,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAG;AAAC,aAAOD,EAAEC,CAAF,CAAP;AAAY,KAAhB,CAAgB,OAAMK,CAAN,EAAQ;AAAC,aAAOiD,GAAGC,KAAH,GAASlD,CAAT,EAAWiD,EAAlB;AAAqB;AAAC,YAASV,CAAT,CAAW7C,CAAX,EAAaM,CAAb,EAAeE,CAAf,EAAiBE,CAAjB,EAAmB;AAAC,QAAII,IAAEb,EAAEO,CAAF,CAAN;AAAA,QAAWS,IAAE,KAAK,CAAlB;AAAA,QAAoBO,IAAE,KAAK,CAA3B;AAAA,QAA6BR,IAAE,KAAK,CAApC;AAAA,QAAsCH,IAAE,KAAK,CAA7C,CAA+C,IAAGC,CAAH,EAAK;AAAC,UAAGG,IAAEyD,EAAElE,CAAF,EAAIE,CAAJ,CAAF,EAASO,MAAIsC,EAAJ,IAAQ1C,IAAE,CAAC,CAAH,EAAKW,IAAEP,EAAEuC,KAAT,EAAevC,EAAEuC,KAAF,GAAQ,IAA/B,IAAqCxC,IAAE,CAAC,CAAjD,EAAmDV,MAAIW,CAA1D,EAA4D,OAAO,KAAK4C,EAAEvD,CAAF,EAAI8C,GAAJ,CAAZ;AAAqB,KAAvF,MAA4FnC,IAAEP,CAAF,EAAIM,IAAE,CAAC,CAAP,CAASV,EAAEqC,MAAF,KAAW4B,CAAX,KAAezD,KAAGE,CAAH,GAAKiC,EAAE3C,CAAF,EAAIW,CAAJ,CAAL,GAAYJ,IAAEgD,EAAEvD,CAAF,EAAIkB,CAAJ,CAAF,GAASxB,MAAIgE,EAAJ,GAAOJ,EAAEtD,CAAF,EAAIW,CAAJ,CAAP,GAAcjB,MAAIiE,EAAJ,IAAQJ,EAAEvD,CAAF,EAAIW,CAAJ,CAA1D;AAAkE,YAAS0D,CAAT,CAAW3E,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAG;AAACA,QAAE,UAASA,CAAT,EAAW;AAACgD,UAAEjD,CAAF,EAAIC,CAAJ;AAAO,OAArB,EAAsB,UAASA,CAAT,EAAW;AAAC4D,UAAE7D,CAAF,EAAIC,CAAJ;AAAO,OAAzC;AAA2C,KAA/C,CAA+C,OAAMK,CAAN,EAAQ;AAACuD,QAAE7D,CAAF,EAAIM,CAAJ;AAAO;AAAC,YAASsE,CAAT,GAAY;AAAC,WAAOC,IAAP;AAAY,YAASnC,CAAT,CAAW1C,CAAX,EAAa;AAACA,MAAEyC,CAAF,IAAKoC,IAAL,EAAU7E,EAAE2C,MAAF,GAAS,KAAK,CAAxB,EAA0B3C,EAAE8C,OAAF,GAAU,KAAK,CAAzC,EAA2C9C,EAAEwE,YAAF,GAAe,EAA1D;AAA6D,YAASM,CAAT,GAAY;AAAC,WAAO,IAAIC,KAAJ,CAAU,yCAAV,CAAP;AAA4D,YAASC,CAAT,CAAWhF,CAAX,EAAa;AAAC,WAAO,IAAIiF,EAAJ,CAAO,IAAP,EAAYjF,CAAZ,EAAekF,OAAtB;AAA8B,YAASC,CAAT,CAAWnF,CAAX,EAAa;AAAC,QAAIC,IAAE,IAAN,CAAW,OAAO,IAAIA,CAAJ,CAAMmF,EAAEpF,CAAF,IAAK,UAASM,CAAT,EAAWE,CAAX,EAAa;AAAC,WAAI,IAAIE,IAAEV,EAAEyE,MAAR,EAAe3D,IAAE,CAArB,EAAuBA,IAAEJ,CAAzB,EAA2BI,GAA3B;AAA+Bb,UAAEkE,OAAF,CAAUnE,EAAEc,CAAF,CAAV,EAAgBwC,IAAhB,CAAqBhD,CAArB,EAAuBE,CAAvB;AAA/B;AAAyD,KAA5E,GAA6E,UAASR,CAAT,EAAWC,CAAX,EAAa;AAAC,aAAOA,EAAE,IAAIkD,SAAJ,CAAc,iCAAd,CAAF,CAAP;AAA2D,KAA5J,CAAP;AAAqK,YAASkC,CAAT,CAAWrF,CAAX,EAAa;AAAC,QAAIC,IAAE,IAAN;AAAA,QAAWK,IAAE,IAAIL,CAAJ,CAAMuC,CAAN,CAAb,CAAsB,OAAOqB,EAAEvD,CAAF,EAAIN,CAAJ,GAAOM,CAAd;AAAgB,YAASgF,CAAT,GAAY;AAAC,UAAM,IAAInC,SAAJ,CAAc,oFAAd,CAAN;AAA0G,YAASoC,CAAT,GAAY;AAAC,UAAM,IAAIpC,SAAJ,CAAc,uHAAd,CAAN;AAA6I,YAASqC,CAAT,GAAY;AAAC,QAAIxF,IAAE,KAAK,CAAX,CAAa,IAAG,eAAa,OAAOyF,MAAvB,EAA8BzF,IAAEyF,MAAF,CAA9B,KAA4C,IAAG,eAAa,OAAOC,IAAvB,EAA4B1F,IAAE0F,IAAF,CAA5B,KAAwC,IAAG;AAAC1F,UAAEkC,SAAS,aAAT,GAAF;AAA4B,KAAhC,CAAgC,OAAMjC,CAAN,EAAQ;AAAC,YAAM,IAAI8E,KAAJ,CAAU,0EAAV,CAAN;AAA4F,SAAIzE,IAAEN,EAAE2F,OAAR,CAAgB,IAAGrF,CAAH,EAAK;AAAC,UAAIE,IAAE,IAAN,CAAW,IAAG;AAACA,YAAEf,OAAOmG,SAAP,CAAiBC,QAAjB,CAA0BnC,IAA1B,CAA+BpD,EAAE6D,OAAF,EAA/B,CAAF;AAA8C,OAAlD,CAAkD,OAAMlE,CAAN,EAAQ,CAAE,KAAG,uBAAqBO,CAArB,IAAwB,CAACF,EAAEwF,IAA9B,EAAmC;AAAO,OAAEH,OAAF,GAAUI,EAAV;AAAa,OAAIC,IAAE,KAAK,CAAX,CAAaA,IAAEC,MAAMC,OAAN,GAAcD,MAAMC,OAApB,GAA4B,UAASlG,CAAT,EAAW;AAAC,WAAM,qBAAmBP,OAAOmG,SAAP,CAAiBC,QAAjB,CAA0BnC,IAA1B,CAA+B1D,CAA/B,CAAzB;AAA2D,GAArG,CAAsG,IAAIoF,IAAEY,CAAN;AAAA,MAAQjE,IAAE,CAAV;AAAA,MAAYhB,IAAE,KAAK,CAAnB;AAAA,MAAqBR,IAAE,KAAK,CAA5B;AAAA,MAA8BE,IAAE,WAAST,CAAT,EAAWC,CAAX,EAAa;AAAC+B,MAAED,CAAF,IAAK/B,CAAL,EAAOgC,EAAED,IAAE,CAAJ,IAAO9B,CAAd,EAAgB8B,KAAG,CAAnB,EAAqB,MAAIA,CAAJ,KAAQxB,IAAEA,EAAEM,CAAF,CAAF,GAAOsF,GAAf,CAArB;AAAyC,GAAvF;AAAA,MAAwFC,IAAE,eAAa,OAAOC,MAApB,GAA2BA,MAA3B,GAAkC,KAAK,CAAjI;AAAA,MAAmIC,IAAEF,KAAG,EAAxI;AAAA,MAA2IlF,IAAEoF,EAAEC,gBAAF,IAAoBD,EAAEE,sBAAnK;AAAA,MAA0LC,IAAE,eAAa,OAAOf,IAApB,IAA0B,eAAa,OAAO/E,OAA9C,IAAuD,uBAAqB,GAAGkF,QAAH,CAAYnC,IAAZ,CAAiB/C,OAAjB,CAAxQ;AAAA,MAAkS+F,IAAE,eAAa,OAAOC,iBAApB,IAAuC,eAAa,OAAOC,aAA3D,IAA0E,eAAa,OAAOnF,cAAlY;AAAA,MAAiZO,IAAE,IAAIiE,KAAJ,CAAU,GAAV,CAAnZ;AAAA,MAAkaE,IAAE,KAAK,CAAza,CAA2aA,IAAEM,IAAE/F,GAAF,GAAMQ,IAAED,GAAF,GAAMyF,IAAElF,GAAF,GAAM,KAAK,CAAL,KAAS4E,CAAT,IAAY,cAAY,UAAxB,GAAuCnE,GAAvC,GAA2CjB,GAA/D,CAAmE,IAAIyB,IAAEoE,KAAKC,MAAL,GAAcjB,QAAd,CAAuB,EAAvB,EAA2BkB,SAA3B,CAAqC,CAArC,CAAN;AAAA,MAA8CxC,IAAE,KAAK,CAArD;AAAA,MAAuDP,KAAG,CAA1D;AAAA,MAA4DC,KAAG,CAA/D;AAAA,MAAiEV,KAAG,EAACC,OAAM,IAAP,EAApE;AAAA,MAAiFqB,KAAG,CAApF;AAAA,MAAsFI,KAAG,YAAU;AAAC,aAASjF,CAAT,CAAWA,CAAX,EAAaC,CAAb,EAAe;AAAC,WAAK+G,oBAAL,GAA0BhH,CAA1B,EAA4B,KAAKkF,OAAL,GAAa,IAAIlF,CAAJ,CAAMwC,CAAN,CAAzC,EAAkD,KAAK0C,OAAL,CAAazC,CAAb,KAAiBC,EAAE,KAAKwC,OAAP,CAAnE,EAAmFE,EAAEnF,CAAF,KAAM,KAAKwE,MAAL,GAAYxE,EAAEwE,MAAd,EAAqB,KAAKwC,UAAL,GAAgBhH,EAAEwE,MAAvC,EAA8C,KAAK3B,OAAL,GAAa,IAAImD,KAAJ,CAAU,KAAKxB,MAAf,CAA3D,EAAkF,MAAI,KAAKA,MAAT,GAAgBb,EAAE,KAAKsB,OAAP,EAAe,KAAKpC,OAApB,CAAhB,IAA8C,KAAK2B,MAAL,GAAY,KAAKA,MAAL,IAAa,CAAzB,EAA2B,KAAKyC,UAAL,CAAgBjH,CAAhB,CAA3B,EAA8C,MAAI,KAAKgH,UAAT,IAAqBrD,EAAE,KAAKsB,OAAP,EAAe,KAAKpC,OAApB,CAAjH,CAAxF,IAAwOe,EAAE,KAAKqB,OAAP,EAAeJ,GAAf,CAA3T;AAA+U,YAAO9E,EAAE4F,SAAF,CAAYsB,UAAZ,GAAuB,UAASlH,CAAT,EAAW;AAAC,WAAI,IAAIC,IAAE,CAAV,EAAY,KAAK0C,MAAL,KAAc4B,CAAd,IAAiBtE,IAAED,EAAEyE,MAAjC,EAAwCxE,GAAxC;AAA4C,aAAKkH,UAAL,CAAgBnH,EAAEC,CAAF,CAAhB,EAAqBA,CAArB;AAA5C;AAAoE,KAAvG,EAAwGD,EAAE4F,SAAF,CAAYuB,UAAZ,GAAuB,UAASnH,CAAT,EAAWC,CAAX,EAAa;AAAC,UAAIK,IAAE,KAAK0G,oBAAX;AAAA,UAAgCxG,IAAEF,EAAE6D,OAApC,CAA4C,IAAG3D,MAAIwC,CAAP,EAAS;AAAC,YAAItC,IAAE2C,EAAErD,CAAF,CAAN,CAAW,IAAGU,MAAI4B,CAAJ,IAAOtC,EAAE2C,MAAF,KAAW4B,CAArB,EAAuB,KAAK6C,UAAL,CAAgBpH,EAAE2C,MAAlB,EAAyB1C,CAAzB,EAA2BD,EAAE8C,OAA7B,EAAvB,KAAkE,IAAG,cAAY,OAAOpC,CAAtB,EAAwB,KAAKuG,UAAL,IAAkB,KAAKnE,OAAL,CAAa7C,CAAb,IAAgBD,CAAlC,CAAxB,KAAiE,IAAGM,MAAIyF,EAAP,EAAU;AAAC,cAAIjF,IAAE,IAAIR,CAAJ,CAAMkC,CAAN,CAAN,CAAe0B,EAAEpD,CAAF,EAAId,CAAJ,EAAMU,CAAN,GAAS,KAAK2G,aAAL,CAAmBvG,CAAnB,EAAqBb,CAArB,CAAT;AAAiC,SAA3D,MAAgE,KAAKoH,aAAL,CAAmB,IAAI/G,CAAJ,CAAM,UAASL,CAAT,EAAW;AAAC,iBAAOA,EAAED,CAAF,CAAP;AAAY,SAA9B,CAAnB,EAAmDC,CAAnD;AAAsD,OAA9Q,MAAmR,KAAKoH,aAAL,CAAmB7G,EAAER,CAAF,CAAnB,EAAwBC,CAAxB;AAA2B,KAAve,EAAweD,EAAE4F,SAAF,CAAYwB,UAAZ,GAAuB,UAASpH,CAAT,EAAWC,CAAX,EAAaK,CAAb,EAAe;AAAC,UAAIE,IAAE,KAAK0E,OAAX,CAAmB1E,EAAEmC,MAAF,KAAW4B,CAAX,KAAe,KAAK0C,UAAL,IAAkBjH,MAAIiE,EAAJ,GAAOJ,EAAErD,CAAF,EAAIF,CAAJ,CAAP,GAAc,KAAKwC,OAAL,CAAa7C,CAAb,IAAgBK,CAA/D,GAAkE,MAAI,KAAK2G,UAAT,IAAqBrD,EAAEpD,CAAF,EAAI,KAAKsC,OAAT,CAAvF;AAAyG,KAA3oB,EAA4oB9C,EAAE4F,SAAF,CAAYyB,aAAZ,GAA0B,UAASrH,CAAT,EAAWC,CAAX,EAAa;AAAC,UAAIK,IAAE,IAAN,CAAWyC,EAAE/C,CAAF,EAAI,KAAK,CAAT,EAAW,UAASA,CAAT,EAAW;AAAC,eAAOM,EAAE8G,UAAF,CAAapD,EAAb,EAAgB/D,CAAhB,EAAkBD,CAAlB,CAAP;AAA4B,OAAnD,EAAoD,UAASA,CAAT,EAAW;AAAC,eAAOM,EAAE8G,UAAF,CAAanD,EAAb,EAAgBhE,CAAhB,EAAkBD,CAAlB,CAAP;AAA4B,OAA5F;AAA8F,KAA7xB,EAA8xBA,CAAryB;AAAuyB,GAAjpC,EAAzF;AAAA,MAA6uC+F,KAAG,YAAU;AAAC,aAAS/F,CAAT,CAAWC,CAAX,EAAa;AAAC,WAAKwC,CAAL,IAAQmC,GAAR,EAAY,KAAK9B,OAAL,GAAa,KAAKH,MAAL,GAAY,KAAK,CAA1C,EAA4C,KAAK6B,YAAL,GAAkB,EAA9D,EAAiEhC,MAAIvC,CAAJ,KAAQ,cAAY,OAAOA,CAAnB,IAAsBqF,GAAtB,EAA0B,gBAAgBtF,CAAhB,GAAkB2E,EAAE,IAAF,EAAO1E,CAAP,CAAlB,GAA4BsF,GAA9D,CAAjE;AAAoI,YAAOvF,EAAE4F,SAAF,CAAY,OAAZ,IAAqB,UAAS5F,CAAT,EAAW;AAAC,aAAO,KAAKsD,IAAL,CAAU,IAAV,EAAetD,CAAf,CAAP;AAAyB,KAA1D,EAA2DA,EAAE4F,SAAF,CAAY,SAAZ,IAAuB,UAAS5F,CAAT,EAAW;AAAC,UAAIC,IAAE,IAAN;AAAA,UAAWK,IAAEL,EAAEsC,WAAf,CAA2B,OAAOtC,EAAEqD,IAAF,CAAO,UAASrD,CAAT,EAAW;AAAC,eAAOK,EAAE6D,OAAF,CAAUnE,GAAV,EAAesD,IAAf,CAAoB,YAAU;AAAC,iBAAOrD,CAAP;AAAS,SAAxC,CAAP;AAAiD,OAApE,EAAqE,UAASA,CAAT,EAAW;AAAC,eAAOK,EAAE6D,OAAF,CAAUnE,GAAV,EAAesD,IAAf,CAAoB,YAAU;AAAC,gBAAMrD,CAAN;AAAQ,SAAvC,CAAP;AAAgD,OAAjI,CAAP;AAA0I,KAAnQ,EAAoQD,CAA3Q;AAA6Q,GAA1a,EAAhvC,CAA6pD,OAAO+F,GAAGH,SAAH,CAAatC,IAAb,GAAkBhB,CAAlB,EAAoByD,GAAGuB,GAAH,GAAOtC,CAA3B,EAA6Be,GAAGwB,IAAH,GAAQpC,CAArC,EAAuCY,GAAG5B,OAAH,GAAWnB,CAAlD,EAAoD+C,GAAGyB,MAAH,GAAUnC,CAA9D,EAAgEU,GAAG0B,aAAH,GAAiBnH,CAAjF,EAAmFyF,GAAG2B,QAAH,GAAYlH,CAA/F,EAAiGuF,GAAG4B,KAAH,GAASlH,CAA1G,EAA4GsF,GAAG6B,QAAH,GAAYpC,CAAxH,EAA0HO,GAAGJ,OAAH,GAAWI,EAArI,EAAwIA,EAA/I;AAAkJ,CAAv6M,CAAD,C;;;;;;;;;;;;;;;;;;;;;ACAA;;;;IAIqB8B,K;;;;SACnBC,M,GAAS,E;;;;;uBAENnI,K,EAAOoI,E,EAAI;AACZ,UAAI,OAAOA,EAAP,KAAc,UAAd,IAA4B,CAACpI,KAAjC,EAAwC;AACtC;AACD;AACD,UAAI,CAAC,KAAKmI,MAAL,CAAYnI,KAAZ,CAAL,EAAyB;AACvB,aAAKmI,MAAL,CAAYnI,KAAZ,IAAqB,uEAArB;AACD;AACD,WAAKmI,MAAL,CAAYnI,KAAZ,EAAmBqI,GAAnB,CAAuBD,EAAvB;AACD;;;yBAEIpI,K,EAAO4B,I,EAAM;AAChB,UAAI,6FAAO,KAAKuG,MAAL,CAAYnI,KAAZ,CAAP,MAA8B,QAAlC,EAA4C;AAC1C;AACD;AACDsI,cAAQC,GAAR,WAAoBvI,KAApB;AACA,WAAKmI,MAAL,CAAYnI,KAAZ,EAAmBwI,OAAnB,CAA2B,UAACC,OAAD,EAAa;AACtC,YAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC;AACjCA,kBAAQ7G,IAAR;AACD;AACF,OAJD;AAKD;;;wBAEG5B,K,EAAOoI,E,EAAI;AACb,UAAI,6FAAO,KAAKD,MAAL,CAAYnI,KAAZ,CAAP,MAA8B,QAA9B,IAA0C,OAAOoI,EAAP,KAAc,UAA5D,EAAwE;AACtE;AACD;AACD,WAAKD,MAAL,CAAYnI,KAAZ,EAAmB0I,MAAnB,CAA0BN,EAA1B;AACD;;;;;;yDA9BkBF,K;;;;;;;;;;;;;;;;;;ACJrB;;;AAGA;;IAEqBS,O;;;;SAEnBC,O,GAAU,K;;AADV;;;;;;;AAGA;iCACaC,Q,EAAU;AACrB,UAAIC,SAAS,EAAb;AACA,UAAI,gBAAgBD,SAASE,MAA7B,EAAqC;AACnCD,iBAASD,SAASE,MAAT,CAAgB,YAAhB,CAAT;AACD,OAFD,MAEO,IAAI,gBAAgBF,SAASE,MAA7B,EAAqC;AAC1CD,iBAASD,SAASE,MAAT,CAAgB,YAAhB,CAAT;AACD;AACD,aAAOD,MAAP;AACD;;;iCAEYA,M,EAAQE,G,EAAK;AACxB,UAAMC,QAAQ,IAAIC,MAAJ,CAAcF,GAAd,gBAAd;AACA,UAAMG,UAAUF,MAAMG,IAAN,CAAWN,MAAX,CAAhB;AACA,UAAIK,WAAWA,QAAQ,CAAR,CAAf,EAA2B;AACzB,eAAOA,QAAQ,CAAR,CAAP;AACD;AACD,aAAO,IAAP;AACD;;AAED;;;;oCACgBN,Q,EAAU;AACxB,UAAMC,SAAS,KAAKO,YAAL,CAAkBR,QAAlB,CAAf;AACA,UAAMS,gBAAgB,KAAKC,YAAL,CAAkBT,MAAlB,EAA0B,YAA1B,CAAtB;AACA,UAAIQ,aAAJ,EAAmB;AACjBE,iBAASC,WAAT,CAAqBC,UAArB,CAAgCC,UAAhC,GAA6CL,aAA7C;AACD;AACD,UAAMM,OAAO,KAAKL,YAAL,CAAkBT,MAAlB,EAA0B,MAA1B,CAAb;AACA,UAAIc,IAAJ,EAAU;AACRJ,iBAASC,WAAT,CAAqBC,UAArB,CAAgCE,IAAhC,GAAuCA,IAAvC;AACD;AACD,UAAMC,WAAW,KAAKN,YAAL,CAAkBT,MAAlB,EAA0B,UAA1B,CAAjB;AACA,UAAIe,QAAJ,EAAc;AACZL,iBAASC,WAAT,CAAqBC,UAArB,CAAgCG,QAAhC,GAA2CA,QAA3C;AACD;AACD,UAAMC,aAAa,KAAKP,YAAL,CAAkBT,MAAlB,EAA0B,YAA1B,CAAnB;AACA,UAAIgB,UAAJ,EAAgB;AACdN,iBAASC,WAAT,CAAqBC,UAArB,CAAgCI,UAAhC,GAA6CA,UAA7C;AACD;AACD,UAAMC,gBAAgB,KAAKR,YAAL,CAAkBT,MAAlB,EAA0B,eAA1B,CAAtB;AACA,UAAIiB,aAAJ,EAAmB;AACjBP,iBAASC,WAAT,CAAqBC,UAArB,CAAgCK,aAAhC,GAAgDA,aAAhD;AACD;AACDC,SAAGC,UAAH,CAAc;AACZjB,aAAK,YADO;AAEZpH,cAAM4H,SAASC,WAAT,CAAqBC;AAFf,OAAd;AAID;;;6BAEQQ,M,EAAQC,I,EAAMvI,I,EAAMmH,M,EAAQ;AAAA;;AACnC,UAAMqB,SAASZ,SAASvJ,QAAT,CAAkBoK,cAAjC;AACA,UAAMC,YAAYd,SAASvJ,QAAT,CAAkBsK,aAApC;AACA,UAAIC,mBAAmB,EAAvB;AACA,UAAIhB,SAASC,WAAT,CAAqBC,UAAzB,EAAqC;AACnC,YAAIF,SAASC,WAAT,CAAqBC,UAArB,CAAgCC,UAApC,EAAgD;AAC9Ca,8CAAkChB,SAASC,WAAT,CAAqBC,UAArB,CAAgCC,UAAlE;AACD;AACD,YAAIH,SAASC,WAAT,CAAqBC,UAArB,CAAgCE,IAApC,EAA0C;AACxCY,wCAA4BhB,SAASC,WAAT,CAAqBC,UAArB,CAAgCE,IAA5D;AACD;AACD,YAAIJ,SAASC,WAAT,CAAqBC,UAArB,CAAgCG,QAApC,EAA8C;AAC5CW,4CAAgChB,SAASC,WAAT,CAAqBC,UAArB,CAAgCG,QAAhE;AACD;AACD,YAAIL,SAASC,WAAT,CAAqBC,UAArB,CAAgCI,UAApC,EAAgD;AAC9CU,8CAAkChB,SAASC,WAAT,CAAqBC,UAArB,CAAgCI,UAAlE;AACD;AACD,YAAIN,SAASC,WAAT,CAAqBC,UAArB,CAAgCK,aAApC,EAAmD;AACjDS,iDAAqChB,SAASC,WAAT,CAAqBC,UAArB,CAAgCK,aAArE;AACD;AACF;AACD,aAAO,IAAI,6DAAJ,CAAY,UAACvF,OAAD,EAAUqD,MAAV,EAAqB;AACtCmC,WAAGjK,OAAH,CAAW;AACT0K,eAAKL,SAASD,IADL;AAETD,kBAAQA,MAFC;AAGTtI,gBAAMA,IAHG;AAITmH,kBAAA,qEAAAA;AACE,4BAAgB,kBADlB;AAEE2B,qBAAS,uCAFX;AAGEC,oBAAQH,gBAHV;AAIE,6BAAiBF;AAJnB,aAKKvB,MALL,CAJS;AAWT6B,mBAAS,iBAAC/B,QAAD,EAAc;AACrBP,oBAAQC,GAAR,CAAe4B,IAAf;AACA7B,oBAAQC,GAAR,CAAYM,QAAZ;AACA,gBAAIA,SAASgC,UAAT,KAAwB,GAA5B,EAAiC;AAC/B,oBAAKC,eAAL,CAAqBjC,QAArB;AAD+B,kBAGvBkC,MAHuB,GAI3BlC,QAJ2B,CAG7BjH,IAH6B;;AAK/B,kBAAImJ,OAAOC,cAAP,CAAsB,GAAtB,CAAJ,EAAgC;AAC9B,oBAAID,OAAO1J,CAAP,KAAa,GAAjB,EAAsB;AACpB,sBAAI,OAAO0J,MAAX,EAAmB;AACjBvG,4BAAQuG,OAAOtH,CAAf;AACD,mBAFD,MAEO;AACLe,4BAAQ,EAAR;AACD;AACF,iBAND,MAMO;AACLqD,yBAAOkD,OAAO1J,CAAd,EAAiB0J,OAAO/G,CAAxB;AACD;AACF,eAVD,MAUO;AACLQ,wBAAQuG,MAAR;AACD;AACF,aAlBD,MAkBO,IAAIlC,SAASgC,UAAT,KAAwB,GAA5B,EAAiC;AACtC;AACAvC,sBAAQC,GAAR,CAAY,YAAZ;AACAiB,uBAASyB,SAAT,CAAmB,YAAnB;AACAzB,uBAAS0B,MAAT;AACArD,qBAAOgB,SAASgC,UAAhB;AACD,aANM,MAMA;AACLhD,qBAAOgB,SAASgC,UAAhB;AACD;AACF,WAzCQ;AA0CTM,gBAAM,gBAAM;AACVtD,mBAAO,IAAIzC,KAAJ,CAAU,MAAV,CAAP;AACD;AA5CQ,SAAX;AA8CD,OA/CM,CAAP;AAgDD;;;wBAEG+E,I,EAA8B;AAAA,UAAxBvI,IAAwB,uEAAjB,EAAiB;AAAA,UAAbmH,MAAa,uEAAJ,EAAI;;AAChC,aAAO,KAAKqC,QAAL,CAAc,KAAd,EAAqBjB,IAArB,EAA2BvI,IAA3B,EAAiCmH,MAAjC,CAAP;AACD;;;yBAEIoB,I,EAA8B;AAAA,UAAxBvI,IAAwB,uEAAjB,EAAiB;AAAA,UAAbmH,MAAa,uEAAJ,EAAI;;AACjC,aAAO,KAAKqC,QAAL,CAAc,MAAd,EAAsBjB,IAAtB,EAA4BvI,IAA5B,EAAkCmH,MAAlC,CAAP;AACD;;;4BAEMoB,I,EAA8B;AAAA,UAAxBvI,IAAwB,uEAAjB,EAAiB;AAAA,UAAbmH,MAAa,uEAAJ,EAAI;;AACnC,aAAO,KAAKqC,QAAL,CAAc,QAAd,EAAwBjB,IAAxB,EAA8BvI,IAA9B,EAAoCmH,MAApC,CAAP;AACD;;;wBAEGoB,I,EAA8B;AAAA,UAAxBvI,IAAwB,uEAAjB,EAAiB;AAAA,UAAbmH,MAAa,uEAAJ,EAAI;;AAChC,aAAO,KAAKqC,QAAL,CAAc,KAAd,EAAqBjB,IAArB,EAA2BvI,IAA3B,EAAiCmH,MAAjC,CAAP;AACD;;;;;;yDA1IkBJ,O;;;;;;;;;;;;;;;;;;;;ACLrB;;;AAGA,IAAM0C,gBAAgB,yBAAtB;;IAEqBC,M;AACnB;;;;;AAKA,kBAAYC,SAAZ,EAAuBC,WAAvB,EAAoC;AAAA;;AAClC,SAAKD,SAAL,GAAiBA,SAAjB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACD;;AAED;;;;;;;;;+BAKWC,Q,EAAUC,K,EAAO;AAC1B,UAAIjB,MAASY,aAAT,eAAgCI,QAAhC,SAA4CA,QAAhD;AACA,UAAIC,UAAUC,SAAV,IAAuB,0EAAYD,KAAZ,EAAmB5G,MAAnB,GAA4B,CAAvD,EAA0D;AACxD2F,eAAO,GAAP;AACA,aAAK,IAAMzB,GAAX,IAAkB0C,KAAlB,EAAyB;AACvBjB,iBAAUzB,GAAV,SAAiB0C,MAAM1C,GAAN,CAAjB;AACD;AACF;AACD,aAAOyB,GAAP;AACD;;;+BAEUmB,S,EAAW;AACpB,UAAMnB,MAAMmB,SAAZ;AACA,UAAI,EAAE,OAAQnB,GAAR,KAAiB,QAAnB,CAAJ,EAAkC;AAChC;AACD;;AAED;AACA,UAAIA,IAAIoB,UAAJ,CAAeR,aAAf,CAAJ,EAAmC;AACjC,YAAMlB,OAAOM,IAAIqB,KAAJ,CAAUT,cAAcvG,MAAd,GAAuB,CAAjC,EAAoC2F,IAAIsB,OAAJ,CAAY,GAAZ,IAAmB,CAAnB,GAAuBtB,IAAIsB,OAAJ,CAAY,GAAZ,CAAvB,GAA0CtB,IAAI3F,MAAlF,CAAb;AACA,YAAI,KAAKyG,SAAL,CAAeQ,OAAf,CAAuB5B,IAAvB,IAA+B,CAAC,CAApC,EAAuC;AACrC7B,kBAAQC,GAAR,6BAAsCkC,IAAIqB,KAAJ,CAAUT,cAAcvG,MAAxB,CAAtC;AACAkF,aAAGgC,UAAH,CAAc;AACZvB,iBAAKA,IAAIqB,KAAJ,CAAUT,cAAcvG,MAAxB;AADO,WAAd;AAGD,SALD,MAKO;AACL,eAAKmH,cAAL,CAAoBxB,GAApB;AACD;AACF,OAVD,MAUO;AACL,aAAKwB,cAAL,CAAoBxB,GAApB;AACD;AACF;;;mCAEcA,G,EAAK;AAClBnC,cAAQC,GAAR,uBAAgCkC,GAAhC;AACA,UAAMyB,aAAa,6EAAeC,mBAAmB1B,GAAnB,CAAf,CAAnB;AACAT,SAAGgC,UAAH,CAAc;AACZvB,+CAAqCyB,UAArC;AADY,OAAd;AAGD;;;;;;yDAvDkBZ,M;;;;;;;;;;;;ICLAc,U;;;OACnBC,gB,GAAmB,kB;OACnBC,M,GAAS,Q;OACTC,K,GAAQ,O;OACRC,Y,GAAe,c;;;yDAJIJ,U;;;;;;;;;;;;ICAAK,Q;;;OACnBC,O,GAAU,K;;;yDADSD,Q","file":"static/js/main.js","sourcesContent":["// app.js\nimport Router from './core/router';\nimport Request from './core/request';\nimport Event from './core/event';\nimport Settings from './utils/settings';\nimport EventNames from './utils/event-names';\n\nApp({\n  router: {\n    type: Object,\n  },\n  request: new Request(),\n  event: new Event(),\n  settings: new Settings(),\n  eventNames: new EventNames(),\n\n  Pages: [\n    'pages/index/index',\n    'pages/xml2can/xml2can',\n  ],\n\n  onLaunch: function () {\n    this.router = new Router(this.Pages, '');\n  },\n\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){\"use strict\";function t(t){var e=typeof t;return null!==t&&(\"object\"===e||\"function\"===e)}function e(t){return\"function\"==typeof t}function n(t){B=t}function r(t){G=t}function o(){return function(){return process.nextTick(a)}}function i(){return\"undefined\"!=typeof z?function(){z(a)}:c()}function s(){var t=0,e=new J(a),n=document.createTextNode(\"\");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<W;t+=2){var e=V[t],n=V[t+1];e(n),V[t]=void 0,V[t+1]=void 0}W=0}function f(){try{var t=Function(\"return this\")().require(\"vertx\");return z=t.runOnLoop||t.runOnContext,i()}catch(e){return c()}}function l(t,e){var n=this,r=new this.constructor(p);void 0===r[Z]&&O(r);var o=n._state;if(o){var i=arguments[o-1];G(function(){return P(o,r,i,n._result)})}else E(n,r,t,e);return r}function h(t){var e=this;if(t&&\"object\"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function v(){return new TypeError(\"You cannot resolve a promise with itself\")}function d(){return new TypeError(\"A promises callback cannot return that same promise.\")}function _(t){try{return t.then}catch(e){return nt.error=e,nt}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){G(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},\"Settle: \"+(t._label||\" unknown promise\"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===tt?S(t,e._result):e._state===et?j(t,e._result):E(e,void 0,function(e){return g(t,e)},function(e){return j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===h?b(t,n):r===nt?(j(t,nt.error),nt.error=null):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,v()):t(n)?w(e,n,_(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),T(t)}function S(t,e){t._state===$&&(t._result=e,t._state=tt,0!==t._subscribers.length&&G(T,t))}function j(t,e){t._state===$&&(t._state=et,t._result=e,G(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+tt]=n,o[i+et]=r,0===i&&t._state&&G(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function M(t,e){try{return t(e)}catch(n){return nt.error=n,nt}}function P(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=M(r,o),s===nt?(a=!0,u=s.error,s.error=null):c=!0,n===s)return void j(n,d())}else s=o,c=!0;n._state!==$||(i&&c?g(n,s):a?j(n,u):t===tt?S(n,s):t===et&&j(n,s))}function x(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(n){j(t,n)}}function C(){return rt++}function O(t){t[Z]=rt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function k(){return new Error(\"Array Methods must be provided an Array\")}function F(t){return new ot(this,t).promise}function Y(t){var e=this;return new e(U(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})}function q(t){var e=this,n=new e(p);return j(n,t),n}function D(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}function K(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}function L(){var t=void 0;if(\"undefined\"!=typeof global)t=global;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(e){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if(\"[object Promise]\"===r&&!n.cast)return}t.Promise=it}var N=void 0;N=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};var U=N,W=0,z=void 0,B=void 0,G=function(t,e){V[W]=t,V[W+1]=e,W+=2,2===W&&(B?B(a):X())},H=\"undefined\"!=typeof window?window:void 0,I=H||{},J=I.MutationObserver||I.WebKitMutationObserver,Q=\"undefined\"==typeof self&&\"undefined\"!=typeof process&&\"[object process]\"==={}.toString.call(process),R=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel,V=new Array(1e3),X=void 0;X=Q?o():J?s():R?u():void 0===H&&\"function\"==typeof require?f():c();var Z=Math.random().toString(36).substring(2),$=void 0,tt=1,et=2,nt={error:null},rt=0,ot=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[Z]||O(this.promise),U(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&S(this.promise,this._result))):j(this.promise,k())}return t.prototype._enumerate=function(t){for(var e=0;this._state===$&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=_(t);if(o===l&&t._state!==$)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof o)this._remaining--,this._result[e]=t;else if(n===it){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===$&&(this._remaining--,t===et?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(tt,e,t)},function(t){return n._settledAt(et,e,t)})},t}(),it=function(){function t(e){this[Z]=C(),this._result=this._state=void 0,this._subscribers=[],p!==e&&(\"function\"!=typeof e&&D(),this instanceof t?x(this,e):K())}return t.prototype[\"catch\"]=function(t){return this.then(null,t)},t.prototype[\"finally\"]=function(t){var e=this,n=e.constructor;return e.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})})},t}();return it.prototype.then=l,it.all=F,it.race=Y,it.resolve=h,it.reject=q,it._setScheduler=n,it._setAsap=r,it._asap=G,it.polyfill=L,it.Promise=it,it});\n\n\n// WEBPACK FOOTER //\n// ./src/core/plugins/es6-promise.js","/**\r\n * 小程序页面之间通信的 event\r\n * 目前只实现一个事件对应一个方法\r\n */\r\nexport default class Event {\r\n  events = {};\r\n\r\n  on(event, fn) {\r\n    if (typeof fn !== 'function' || !event) {\r\n      return;\r\n    }\r\n    if (!this.events[event]) {\r\n      this.events[event] = new Set();\r\n    }\r\n    this.events[event].add(fn);\r\n  }\r\n\r\n  emit(event, data) {\r\n    if (typeof this.events[event] !== 'object') {\r\n      return;\r\n    }\r\n    console.log(`emit ${event}`);\r\n    this.events[event].forEach((element) => {\r\n      if (typeof element === 'function') {\r\n        element(data);\r\n      }\r\n    });\r\n  }\r\n\r\n  off(event, fn) {\r\n    if (typeof this.events[event] !== 'object' || typeof fn !== 'function') {\r\n      return;\r\n    }\r\n    this.events[event].delete(fn);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/event.js","/**\r\n * 网络请求类\r\n */\r\nimport Promise from './plugins/es6-promise';\r\n\r\nexport default class Request {\r\n  // 微信请求的默认超时时间\r\n  TIMEOUT = 60000;\r\n\r\n  // 取出 Cookie 中 kSeesionId 并保存\r\n  _fetchCookie(response) {\r\n    let cookie = '';\r\n    if ('Set-Cookie' in response.header) {\r\n      cookie = response.header['Set-Cookie'];\r\n    } else if ('set-cookie' in response.header) {\r\n      cookie = response.header['set-cookie'];\r\n    }\r\n    return cookie;\r\n  }\r\n\r\n  _sliceHeader(cookie, key) {\r\n    const regex = new RegExp(`${key}=((\\\\w)+);`);\r\n    const results = regex.exec(cookie);\r\n    if (results && results[1]) {\r\n      return results[1];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // 取出 Cookie 中 kSeesionId 并保存\r\n  _saveKSessionId(response) {\r\n    const cookie = this._fetchCookie(response);\r\n    const tmpKSessionId = this._sliceHeader(cookie, 'KSESSIONID');\r\n    if (tmpKSessionId) {\r\n      getApp().sessionData.minaCookie.kSessionId = tmpKSessionId;\r\n    }\r\n    const qhdi = this._sliceHeader(cookie, 'qhdi');\r\n    if (qhdi) {\r\n      getApp().sessionData.minaCookie.qhdi = qhdi;\r\n    }\r\n    const qhssokey = this._sliceHeader(cookie, 'qhssokey');\r\n    if (qhssokey) {\r\n      getApp().sessionData.minaCookie.qhssokey = qhssokey;\r\n    }\r\n    const qhssokeyid = this._sliceHeader(cookie, 'qhssokeyid');\r\n    if (qhssokeyid) {\r\n      getApp().sessionData.minaCookie.qhssokeyid = qhssokeyid;\r\n    }\r\n    const qhssokeycheck = this._sliceHeader(cookie, 'qhssokeycheck');\r\n    if (qhssokeycheck) {\r\n      getApp().sessionData.minaCookie.qhssokeycheck = qhssokeycheck;\r\n    }\r\n    wx.setStorage({\r\n      key: 'minaCookie',\r\n      data: getApp().sessionData.minaCookie,\r\n    });\r\n  }\r\n\r\n  _request(method, path, data, header) {\r\n    const server = getApp().settings.SERVER_ADDRESS;\r\n    const userAgent = getApp().settings.MP_USER_AGENT;\r\n    let minaCookieString = '';\r\n    if (getApp().sessionData.minaCookie) {\r\n      if (getApp().sessionData.minaCookie.kSessionId) {\r\n        minaCookieString += `KSESSIONID=${getApp().sessionData.minaCookie.kSessionId};`;\r\n      }\r\n      if (getApp().sessionData.minaCookie.qhdi) {\r\n        minaCookieString += `qhdi=${getApp().sessionData.minaCookie.qhdi};`;\r\n      }\r\n      if (getApp().sessionData.minaCookie.qhssokey) {\r\n        minaCookieString += `qhssokey=${getApp().sessionData.minaCookie.qhssokey};`;\r\n      }\r\n      if (getApp().sessionData.minaCookie.qhssokeyid) {\r\n        minaCookieString += `qhssokeyid=${getApp().sessionData.minaCookie.qhssokeyid};`;\r\n      }\r\n      if (getApp().sessionData.minaCookie.qhssokeycheck) {\r\n        minaCookieString += `qhssokeycheck=${getApp().sessionData.minaCookie.qhssokeycheck};`;\r\n      }\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      wx.request({\r\n        url: server + path,\r\n        method: method,\r\n        data: data,\r\n        header: {\r\n          'content-type': 'application/json',\r\n          APIVERS: 'com.qunhe.instdeco.service.tob-xiaoyi',\r\n          Cookie: minaCookieString,\r\n          'MP-User-Agent': userAgent,\r\n          ...header,\r\n        },\r\n        success: (response) => {\r\n          console.log(`${path} >> `);\r\n          console.log(response);\r\n          if (response.statusCode === 200) {\r\n            this._saveKSessionId(response);\r\n            const {\r\n              data: result,\r\n            } = response;\r\n            if (result.hasOwnProperty('c')) {\r\n              if (result.c === '0') {\r\n                if ('d' in result) {\r\n                  resolve(result.d);\r\n                } else {\r\n                  resolve({});\r\n                }\r\n              } else {\r\n                reject(result.c, result.m);\r\n              }\r\n            } else {\r\n              resolve(result);\r\n            }\r\n          } else if (response.statusCode === 401) {\r\n            // 登录过期，清除本地登录信息\r\n            console.log('401 logout');\r\n            getApp().showToast('登录过期，请重新登录');\r\n            getApp().logout();\r\n            reject(response.statusCode);\r\n          } else {\r\n            reject(response.statusCode);\r\n          }\r\n        },\r\n        fail: () => {\r\n          reject(new Error('请求失败'));\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  get(path, data = {}, header = {}) {\r\n    return this._request('GET', path, data, header);\r\n  }\r\n\r\n  post(path, data = {}, header = {}) {\r\n    return this._request('POST', path, data, header);\r\n  }\r\n\r\n  delete(path, data = {}, header = {}) {\r\n    return this._request('DELETE', path, data, header);\r\n  }\r\n\r\n  put(path, data = {}, header = {}) {\r\n    return this._request('PUT', path, data, header);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/request.js","/**\r\n * 路由类\r\n */\r\nconst ROUTER_PREFIX = 'https://www.kujiale.com';\r\n\r\nexport default class Router {\r\n  /**\r\n   * 初始化路由\r\n   * @param {*} pagePaths 所有页面的路由表信息\r\n   * @param {*} webViewPath webView页面的路由信息\r\n   */\r\n  constructor(pagePaths, webViewPath) {\r\n    this.pagePaths = pagePaths;\r\n    this.webViewPath = webViewPath;\r\n  }\r\n\r\n  /**\r\n   * 组装本地页面的路由信息\r\n   * @param {*} pageName 本地的页面名，注意默认在 /pages 目录下，并且页面目录和页面需要命名一致\r\n   * @param {*} query query 值\r\n   */\r\n  nativePage(pageName, query) {\r\n    let url = `${ROUTER_PREFIX}/pages/${pageName}/${pageName}`;\r\n    if (query !== undefined && Object.keys(query).length > 0) {\r\n      url += '?';\r\n      for (const key in query) {\r\n        url += `${key}=${query[key]}&`;\r\n      }\r\n    }\r\n    return url;\r\n  }\r\n\r\n  navigateTo(routePath) {\r\n    const url = routePath;\r\n    if (!(typeof (url) === 'string')) {\r\n      return;\r\n    }\r\n\r\n    // 如果在 pages 里面有定义这个 path, 直接跳转小程序页面\r\n    if (url.startsWith(ROUTER_PREFIX)) {\r\n      const path = url.slice(ROUTER_PREFIX.length + 1, url.indexOf('?') > 0 ? url.indexOf('?') : url.length);\r\n      if (this.pagePaths.indexOf(path) > -1) {\r\n        console.log(`navigate to local page ${url.slice(ROUTER_PREFIX.length)}`);\r\n        wx.navigateTo({\r\n          url: url.slice(ROUTER_PREFIX.length),\r\n        });\r\n      } else {\r\n        this._jumpToWebView(url);\r\n      }\r\n    } else {\r\n      this._jumpToWebView(url);\r\n    }\r\n  }\r\n\r\n  _jumpToWebView(url) {\r\n    console.log(`jump to web page ${url}`);\r\n    const encodedUrl = JSON.stringify(encodeURIComponent(url));\r\n    wx.navigateTo({\r\n      url: `/pages/web-page/web-page?url=${encodedUrl}&from=mp`,\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/router.js","export default class EventNames {\r\n  USER_INFO_UPDATE = 'user_info_update';\r\n  LOGOUT = 'logout';\r\n  LOGIN = 'login';\r\n  LOGIN_FAILED = 'login_failed';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/event-names.js","export default class Settings {\r\n  VERSION = '1.0'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/settings.js"],"sourceRoot":""}